# ðŸŽ® DuelCore: Real-time 1v1 PvP Game Server Portfolio
> ðŸš€ Game Title: **ONEvONE**  
> ðŸ› ï¸ Tech Stack: C++ ì„œë²„ + Unity í´ë¼ì´ì–¸íŠ¸  
> ðŸŽ¯ í¬ì§€ì…˜: ê²Œìž„ ì„œë²„ ê°œë°œ í¬íŠ¸í´ë¦¬ì˜¤  
> ðŸŽ“ ëª©ì : êµ­ë‚´ ê²Œìž„ì‚¬ ì‹ ìž… ì„œë²„ ê°œë°œìž í¬ì§€ì…˜ ì§€ì›

---

## ðŸ“Œ í”„ë¡œì íŠ¸ ê°œìš”

**DuelCore**ëŠ” 1:1 ì‹¤ì‹œê°„ PvP íƒ‘ë‹¤ìš´ ìŠˆíŒ… ê²Œìž„ **ONEvONE**ì˜ ì„œë²„/í´ë¼ì´ì–¸íŠ¸ êµ¬ì¡°ë¥¼ êµ¬í˜„í•œ ê¸°ìˆ  í¬íŠ¸í´ë¦¬ì˜¤ìž…ë‹ˆë‹¤.  
IOCP ê¸°ë°˜ ê³ ì„±ëŠ¥ C++ ì„œë²„ì™€ Unity í´ë¼ì´ì–¸íŠ¸ ê°„ TCP í†µì‹ ì„ í†µí•´, ë§¤ì¹­ â†’ ì „íˆ¬ â†’ ê²°ê³¼ ì €ìž¥ê¹Œì§€ì˜ ì‹¤ì‹œê°„ íë¦„ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

---

## ðŸ§° ê¸°ìˆ  ìŠ¤íƒ ìš”ì•½

### ðŸ–¥ï¸ ì„œë²„ (C++17)

- **ë„¤íŠ¸ì›Œí¬**: IOCP ê¸°ë°˜ ë¹„ë™ê¸° í†µì‹ 
- **ì§ë ¬í™”**: FlatBuffers
- **DB/ìºì‹œ**: MySQL, Redis
- **ë©€í‹°ìŠ¤ë ˆë”©**: ìŠ¤ë ˆë“œí’€ êµ¬ì¡°
- **ì¸ì¦**: JWT (í† í° ë°œê¸‰ ë° ê²€ì¦)
- **ë¡œê¹…**: spdlog
- **ë¹Œë“œ**: MSBuild + vcpkg

### ðŸŽ® í´ë¼ì´ì–¸íŠ¸ (Unity C#)

- **ì—”ì§„**: Unity 2022 LTS
- **í†µì‹ **: TcpClient ê¸°ë°˜ ë¹„ë™ê¸° ì†¡ìˆ˜ì‹ 
- **ë™ê¸°í™”**: ì„œë²„ ê¶Œí•œ ê¸°ì¤€ ìœ„ì¹˜/ê³µê²© ìƒíƒœ ì²˜ë¦¬
- **UI/UX**: ë¡œê·¸ì¸ â†’ ë§¤ì¹­ â†’ ì „íˆ¬ â†’ ê²°ê³¼ íë¦„
- **ìƒíƒœ ê´€ë¦¬**: FSM ê¸°ë°˜ ì”¬ ì „í™˜ êµ¬ì¡°

---

## ðŸ“š ë¬¸ì„œ ëª©ì°¨

- [í•µì‹¬ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­](#-í•µì‹¬-ê¸°ëŠ¥-ìš”êµ¬ì‚¬í•­-ì •ë¦¬)
- [ì„œë²„ êµ¬ì¡° ì„¤ê³„](#-ì„œë²„-êµ¬ì¡°-ì„¤ê³„)
- [ìœ ì € ìƒíƒœ íë¦„ FSM](#-ìœ ì €-ìƒíƒœ-íë¦„-fsm)
- [í´ë¼ì´ì–¸íŠ¸ êµ¬ì¡° ì„¤ê³„](#-í´ë¼ì´ì–¸íŠ¸-êµ¬ì¡°-ì„¤ê³„)
- [í´ë¼ì´ì–¸íŠ¸-ì„œë²„ ì¸í„°íŽ˜ì´ìŠ¤](#-í´ë¼ì´ì–¸íŠ¸-ì„œë²„-ì¸í„°íŽ˜ì´ìŠ¤-ì˜ˆì‹œ)
- [ì„œë²„ í´ë” êµ¬ì¡°](#-í´ë”-êµ¬ì¡°-ì´ˆì•ˆ-ì„œë²„)
- [ì „ì²´ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ëž¨](#ï¸-ì „ì²´-ì•„í‚¤í…ì²˜-ë‹¤ì´ì–´ê·¸ëž¨-mermaid)

---

# âœ… ìš”êµ¬ì‚¬í•­ ì •ë¦¬ ë° êµ¬ì¡° ì„¤ê³„

## ðŸ“Œ í•µì‹¬ ê¸°ëŠ¥ ìš”êµ¬ì‚¬í•­ ì •ë¦¬

### 1. ë¡œê·¸ì¸ ë° ì¸ì¦

- ìœ ì € ë¡œê·¸ì¸ API ì œê³µ
- JWT ê¸°ë°˜ ì¸ì¦ í† í° ë°œê¸‰ ë° ê²€ì¦
- MySQL ìœ ì € ì •ë³´ ì €ìž¥ ë° ê²€ì¦

### 2. ë§¤ì¹­ ì‹œìŠ¤í…œ

- 1:1 ì‹¤ì‹œê°„ PvP ë§¤ì¹­
- Redis ê¸°ë°˜ ëŒ€ê¸°ì—´ í êµ¬ì„±
- ë§¤ì¹­ ì„±ê³µ ì‹œ ë£¸ ë°°ì •

### 3. ì „íˆ¬ ì‹œìŠ¤í…œ

- ì‹¤ì‹œê°„ ìœ„ì¹˜/ê³µê²© ë™ê¸°í™”
- ì„œë²„ ê¶Œí•œ ê¸°ë°˜ ìƒíƒœ íŒì •
- ì „íˆ¬ ì¢…ë£Œ ì¡°ê±´ ë° ìŠ¹íŒ¨ íŒë‹¨

### 4. ê²°ê³¼ ì €ìž¥

- ìŠ¹íŒ¨ ê²°ê³¼ MySQL ì €ìž¥
- ìœ ì € ê¸°ë¡ ê°±ì‹ 

### 5. í´ë¼ì´ì–¸íŠ¸ íë¦„

- ë¡œê·¸ì¸ â†’ ë§¤ì¹­ â†’ ì „íˆ¬ â†’ ê²°ê³¼ â†’ ìž¬ë§¤ì¹­

---

## ðŸ§© ì„œë²„ êµ¬ì¡° ì„¤ê³„

### ðŸ§± ì£¼ìš” ì»´í¬ë„ŒíŠ¸

| ì»´í¬ë„ŒíŠ¸ | ì„¤ëª… |
| --- | --- |
| `NetworkService` | IOCP ê¸°ë°˜ ë¹„ë™ê¸° ì†Œì¼“ ìˆ˜ì‹  ì²˜ë¦¬ |
| `SessionManager` | í´ë¼ì´ì–¸íŠ¸ ì„¸ì…˜ ê´€ë¦¬ (ì—°ê²°/í•´ì œ/ì „ì†¡) |
| `PacketHandler` | íŒ¨í‚· íŒŒì‹± ë° ì²˜ë¦¬ í•¨ìˆ˜ ë§¤í•‘ |
| `GameRoom` | ì „íˆ¬ FSM ì²˜ë¦¬, ìœ ì € ë™ê¸°í™” |
| `RoomManager` | ë£¸ ê°ì²´ í’€ ë° ë£¸ ë°°ì • ê´€ë¦¬ |
| `RedisManager` | ë§¤ì¹­ í ëŒ€ê¸°ì—´ ì²˜ë¦¬ |
| `DBConnector` | MySQL ì—°ê²° ë° ì¿¼ë¦¬ ì²˜ë¦¬ |
| `AuthService` | JWT ë°œê¸‰ ë° ì¸ì¦ ê²€ì¦ |

---

### ðŸ” ìœ ì € ìƒíƒœ íë¦„ FSM

```mermaid
stateDiagram-v2
    [*] --> Idle
    Idle --> Matching : ë§¤ì¹­ ë²„íŠ¼ í´ë¦­
    Matching --> InGame : ë§¤ì¹­ ì„±ê³µ
    InGame --> Result : ì „íˆ¬ ì¢…ë£Œ
    Result --> Idle : ê²°ê³¼ í™•ì¸ í›„ ëŒ€ê¸°
```

---

## ðŸŽ® í´ë¼ì´ì–¸íŠ¸ êµ¬ì¡° ì„¤ê³„

| ì»´í¬ë„ŒíŠ¸ | ì„¤ëª… |
| --- | --- |
| `NetworkManager` | TCPClient ì—°ê²° ë° ì†¡ìˆ˜ì‹  ì²˜ë¦¬ |
| `PacketDecoder` | ì„œë²„ íŒ¨í‚· íŒŒì‹± |
| `GameStateManager` | ìƒíƒœ FSM ê´€ë¦¬ |
| `PlayerController` | ìž…ë ¥ ì²˜ë¦¬ ë° ìƒíƒœ ì—…ë°ì´íŠ¸ |
| `UIManager` | ë¡œê·¸ì¸/ë§¤ì¹­/ê²°ê³¼ UI ê´€ë¦¬ |

---

## ðŸ”— í´ë¼ì´ì–¸íŠ¸-ì„œë²„ ì¸í„°íŽ˜ì´ìŠ¤ ì˜ˆì‹œ

| ê¸°ëŠ¥ | ìš”ì²­ | ì‘ë‹µ |
| --- | --- | --- |
| ë¡œê·¸ì¸ | `CS_LOGIN_REQ` (id, pw) | `SC_LOGIN_RES` (jwt token) |
| ë§¤ì¹­ ìš”ì²­ | `CS_MATCH_REQ` | `SC_MATCH_OK` (room id) |
| ìœ„ì¹˜/ê³µê²© | `CS_MOVE/ATTACK` | `SC_BROADCAST_MOVE/ATTACK` |
| ê²Œìž„ ì¢…ë£Œ | ì—†ìŒ | `SC_RESULT` (ìŠ¹/íŒ¨, ê¸°ë¡) |

---

## ðŸ“‚ í´ë” êµ¬ì¡° ì´ˆì•ˆ (ì„œë²„)

```
/Server
â”œâ”€â”€ Core/                # IOCP ë„¤íŠ¸ì›Œí¬ ì²˜ë¦¬, ìŠ¤ë ˆë“œ í’€ ë“± ì„œë²„ ì½”ì–´ ë¡œì§
â”œâ”€â”€ Session/             # Session ë° SessionManager í´ëž˜ìŠ¤
â”œâ”€â”€ Room/                # GameRoom ë° RoomManager
â”œâ”€â”€ Packet/              # íŒ¨í‚· í•¸ë“¤ëŸ¬, íŒ¨í‚· íƒ€ìž…, ì§ë ¬í™” ì •ì˜
â”œâ”€â”€ DB/                  # MySQL ì—°ë™ì„ ìœ„í•œ DBConnector, ì¿¼ë¦¬ ì²˜ë¦¬
â”œâ”€â”€ Redis/               # Redis ì—°ë™ ëª¨ë“ˆ
â”œâ”€â”€ Auth/                # JWT í† í° ë°œê¸‰/ê²€ì¦ ë¡œì§
â”œâ”€â”€ FlatBuffers/         # .fbs ìŠ¤í‚¤ë§ˆ íŒŒì¼ ë° ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸
â”œâ”€â”€ main.cpp             # ì„œë²„ ì§„ìž…ì 
â””â”€â”€ Server.vcxproj       # Visual Studio í”„ë¡œì íŠ¸ íŒŒì¼
```

---

## ðŸ—‚ï¸ ì „ì²´ ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ëž¨ (Mermaid)

```mermaid
flowchart LR
    subgraph Client
        C1[Login UI]
        C2[Matching UI]
        C3[InGame UI]
        CNM[NetworkManager]
        CPD[PacketDecoder]
        CGS[GameStateManager]
        C1 --> CNM
        C2 --> CNM
        C3 --> CNM
        CNM --> CPD
        CPD --> CGS
    end

    subgraph TCP
        CNM <-->|TCP| SNW[NetworkService]
    end

    subgraph Server
        SNW --> SSM[SessionManager]
        SSM --> SPA[PacketHandler]
        SPA --> SAU[AuthService]
        SPA --> SRM[RoomManager]
        SRM --> SGR[GameRoom]
        SGR --> SDB[DBConnector]
        SGR --> SRD[RedisManager]
    end
```
